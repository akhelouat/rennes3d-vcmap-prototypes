
function loadCss(href) {
  return new Promise((resolve, reject) => {
    const elem = document.createElement('link');
    elem.rel = 'stylesheet';
    elem.href = href;
    elem.defer = false;
    elem.async = false;
    elem.onload = resolve;
    elem.onerror = reject;
    document.head.appendChild(elem);
  });
} await loadCss('data:text/css;base64,LnZjc1Rlc3Qgc3BhbltkYXRhLXYtNzFiYTBkZjRde2JhY2tncm91bmQtY29sb3I6cmVkfQo');import{Feature as W,ol$source$Vector as b}from"../../assets/ol.js";import{EmptyCmpt as u,WindowSlot as _,createToggleAction as M,ButtonLocation as E}from"../../assets/ui.js";import{inject as A,ref as w,computed as U,onUnmounted as k}from"../../assets/vue-composition-api.js";import{VcsButton as S}from"../../assets/uicomponents.js";import{Context as H}from"../../assets/core.js";import{VTextarea as Y,VProgressCircular as j,VSheet as J}from"../../assets/vuetify.js";var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n(j):n(Y,{model:{value:e.configString,callback:function(i){e.configString=i},expression:"configString"}}),n("VcsButton",{on:{click:e.replaceContext}},[e._v(" Apply ")]),n("VcsButton",{on:{click:e.removeContext}},[e._v(" Remove ")])],1)},X=[],Te="";function m(e,t,n,i,o,s,f,h){var a=typeof e=="function"?e.options:e;t&&(a.render=t,a.staticRenderFns=n,a._compiled=!0),i&&(a.functional=!0),s&&(a._scopeId="data-v-"+s);var d;if(f?(d=function(c){c=c||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!c&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(c=__VUE_SSR_CONTEXT__),o&&o.call(this,c),c&&c._registeredComponents&&c._registeredComponents.add(f)},a._ssrRegister=d):o&&(d=h?function(){o.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:o),d)if(a.functional){a._injectStyles=d;var G=a.render;a.render=function(V,O){return d.call(O),G(V,O)}}else{var T=a.beforeCreate;a.beforeCreate=T?[].concat(T,d):[d]}return{exports:e,options:a}}const v="foo",z={name:"Editor",components:{VcsButton:S},setup(){const e=A("vcsApp"),t=e.getContextById(v),n=w(JSON.stringify(t?t.config:{},null,2)),i=w(!1);return{configString:n,loading:i,async replaceContext(){i.value=!0;const o=JSON.parse(n.value);o.id=v;const s=new H(o);await this.removeContext(),await e.addContext(s),i.value=!1},async removeContext(){e.getContextById(v)&&await e.removeContext(v)}}}},N={};var q=m(z,P,X,!1,K,"9f7cef44",null,null);function K(e){for(let t in N)this[t]=N[t]}var Q=function(){return q.exports}();const r={OFF:1,ERROR:2,WARN:4,INFO:8,DEBUG:16},l={ERROR:0,WARN:0,INFO:0,DEBUG:0};l.ERROR=r.ERROR|r.WARN|r.INFO|r.DEBUG,l.WARN=r.WARN|r.INFO|r.DEBUG,l.INFO=r.INFO|r.DEBUG,l.DEBUG=r.DEBUG;const p={useTimestamp:!1,logLevel:r.INFO},g=new Map;g.set(r.ERROR,"error"),g.set(r.WARN,"warn"),g.set(r.INFO,"info"),g.set(r.DEBUG,"log");class L{constructor(t){this.className=t,this.deprecations=new Map}error(t,...n){p.logLevel&l.ERROR&&this._log(String(t),r.ERROR,n)}warning(t,...n){p.logLevel&l.WARN&&this._log(String(t),r.WARN,n)}deprecate(t,n){const i=String(t),o=n?String(n):null;if(!this.deprecations.has(i)){this.deprecations.set(i,o||null);let s=`${i} has been deprecated and will be removed`;o&&(s=`${s}. ${o}`),this.warning(s)}}info(t,...n){p.logLevel&l.INFO&&this._log(String(t),r.INFO,n)}debug(t,...n){p.logLevel&l.DEBUG&&this._log(String(t),r.DEBUG,n)}log(t,...n){p.logLevel&l.DEBUG&&this._log(String(t),r.DEBUG,n)}_log(t,n,i){let o=t;this.className&&(o=`[${this.className}] ${o}`),console[g.get(n)](o,...i),n&r.ERROR&&(console.group(),console.trace(),console.groupEnd())}}const C=new Map;let R;function Z(){return R||(R=new L),R}function ee(e){const t=new L(e);return C.set(e,t),t}function te(e){return e?C.has(e)?C.get(e):ee(e):Z()}var ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(J,[n("span",[e._v(" content ")])])},oe=[],Oe="";const ie={name:"VcsContent",setup(){return{}}},F={};var re=m(ie,ne,oe,!1,se,"71ba0df4",null,null);function se(e){for(let t in F)this[t]=F[t]}var y=function(){return re.exports}(),ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Ha, this is a custom Header with a "),n("span",{on:{click:e.clicked}},[e._v(" CLOSE thing ")])])},ce=[];const le={name:"MyCustomHeader",setup(e,{emit:t}){return{clicked:()=>{t("close")}}}},B={};var de=m(le,ae,ce,!1,_e,null,null,null);function _e(e){for(let t in B)this[t]=B[t]}var ue=function(){return de.exports}(),pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.examples,function(i,o){return n("VcsButton",{key:"b-"+o,on:{click:function(s){return e.toggle(s,i)}}},[e._v(" toggle "+e._s(i)+" ")])}),n("VcsButton",{on:{click:function(i){return e.toggleClass()}}},[e._v(" Change Static2 TestClass ")])],2)},ge=[],Me="";const x=w(!1),fe={name:"WindowManagerExample",components:{VcsButton:S},setup(){const e=[{id:"dynamicLeft",headerTitle:"Example dynamicLeft",component:u,slot:_.DYNAMIC_LEFT},{id:"dynamicLeft2",state:{headerTitle:"Example dynamicLeft2"},component:u,slot:_.DYNAMIC_LEFT},{id:"dynamicRight",state:{headerTitle:"Example dynamicRight"},component:u,headerComponent:ue,slot:_.DYNAMIC_RIGHT},{id:"dynamicRight2",state:{headerTitle:"Example dynamicRight2"},component:u,slot:_.DYNAMIC_RIGHT},{id:"static",state:{headerTitle:"Example static",styles:{"background-color":"red"}},component:y,slot:_.STATIC},{id:"static2",state:{headerTitle:"Example static2 With TestClass",classes:{vcsTest:U(()=>x.value)}},component:y,slot:_.STATIC},{id:"position1",state:{headerTitle:"Example position1"},component:y,position:{left:"30%",right:"30%",top:"40%",bottom:"20%"}},{id:"position2",state:{hideHeader:!0,headerTitle:"Example position2"},component:u,position:{left:"35%",right:"35%",top:"40%",bottom:"20%"}}];k(()=>{te("windowManagerExample").log("got unmounted")});const t=new Map,n=A("vcsApp");return{toggleClass(){x.value=!x.value},toggle(i,o){if(n.windowManager.has(o))n.windowManager.remove(o);else{i.stopPropagation();const s=t.get(o)||e.find(h=>h.id===o),f=n.windowManager.add(s,"WindowManagerExample");t.set(o,f)}},examples:e.map(i=>i.id)}}},I={};var me=m(fe,pe,ge,!1,ve,null,null,null);function ve(e){for(let t in I)this[t]=I[t]}var he=function(){return me.exports}();let $;function D(){return $||($=new b),$}async function Ee(){return{name:"@vcmap/test",onVcsAppMounted(e){const{action:t,destroy:n}=M({name:"Config Editor"},{id:"config-editor",state:{headerTitle:"Context Editor"},component:Q,slot:_.STATIC,position:{width:500}},e.windowManager,"@vcmap/test"),{action:i,destroy:o}=M({name:"Windows"},{id:"windowManagerExample",state:{headerTitle:"windowManager Example"},component:he,position:{left:"60%",right:"10%",top:"10%"}},e.windowManager,"@vcmap/test");this._destroyActions=[n,o];const s={name:"VC Systems",callback(){D().addFeature(new W({})),window.alert(`there are ${D().getFeatures().length} features ${e.maps.activeMap.name}`)}};e.navbarManager.add({id:"config-editor",location:E.TOOL,action:t},"@vcmap/test"),e.navbarManager.add({id:"windowManagerExample",location:E.TOOL,action:i},"@vcmap/test"),e.navbarManager.add({id:"alert",location:E.TOOL,action:s},"@vcmap/test")},destroy(){this._destroyActions&&(this._destroyActions.forEach(e=>e()),this._destroyActions=null)}}}export{Ee as default};
