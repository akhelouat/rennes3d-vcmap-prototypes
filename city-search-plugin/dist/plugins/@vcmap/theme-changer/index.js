var N=Object.defineProperty;var v=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var k=(e,r,n)=>r in e?N(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,j=(e,r)=>{for(var n in r||(r={}))x.call(r,n)&&k(e,n,r[n]);if(v)for(var n of v(r))B.call(r,n)&&k(e,n,r[n]);return e};import{inject as R,ref as O}from"../../../assets/vue-composition-api.js";import{vuetify as I,createToggleAction as D,ButtonLocation as L}from"../../../assets/ui.js";import{VCard as y,VListItem as A,VListItemContent as w,VListItemTitle as F,VListItemAction as T,VSwitch as J,VDivider as U,VCardText as q,VAvatar as z,VIcon as X,VChip as E}from"../../../assets/vuetify.js";const d=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"],[Symbol,"symbol"]];function p(e){const r={};if(!e||r.toString(e)!=="[object Object]")return!1;const n=Object.getPrototypeOf(e);if(!n)return!0;const t=r.hasOwnProperty,s=t.call(n,"constructor")&&n.constructor;return typeof s=="function"&&t.toString.call(s)===t.toString.call(Object)}function u(e,r){if(e===null)return"null";if(typeof e=="undefined")return"undefined";if(r)return typeof e;let n;if(Array.isArray(e))n=`[${e.map(s=>u(s,r)).join(",")}]`;else try{n=JSON.stringify(e)}catch{n=typeof e}return n=n||typeof e,n.length>20?`${n.substr(0,20)}...`:n}function W(e,r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"?e===r?!1:`Expected ${u(e)} to equal ${r.toString()}`:null}function G(e,r,n){if(Array.isArray(r)){if(r.length!==1)throw new Error("Array patterns may only have on type");if(Array.isArray(e)){let t=!1;return e.findIndex(c=>{try{m(c,r[0],n)}catch(i){t=i.message.replace(/Match failed:\s/,"")}return t})>-1?`${t} in ${u(e)}`:!1}return`Expected ${u(e)} to be an Array`}return null}function b(e,r,n){const t=n?`${n}.`:"";if(!p(e))return`Expected ${u(e)} to be a plain Object`;let c=!1;const i=Object.keys(r).find(o=>{const a=e[o];if(p(r[o]))c=b(a,r[o],t+o);else try{m(a,r[o])}catch(f){c=f.message.replace(/Match failed:\s/,"")}return c});return i?`${c} in object.${t}${i}`:!1}function H(e,r){if(r===Number)return Number.isFinite(e)?!1:`expected ${u(e)} to be a number, excluding NaN`;for(let n=d.length;n--;)if(r===d[n][0])return typeof e===d[n][1]?!1:`expected ${u(e)} to be a ${d[n][1]}`;return null}function _(e){if(e===null)return"null";const r=d.find(s=>s[0]===e);if(r)return r[1];let n=e.toString();if(e.className)return e.className;const t=n.match(/function (.*)\(/);if(t&&t.length>1)return t[1];if(p(e)){const s={};Object.keys(e).forEach(c=>{s[c]=_(e[c])});try{n=`Object of ${JSON.stringify(s)}`}catch{n="Object"}}return n}function S(e,r,n){const t=n?`${n}.`:"";let s=!1;return Object.keys(e).find(i=>{if(p(r[i])){const o=e[i];s=S(o,r[i],t+i)}else r[i]||(s=`Found additional key ${t}${i}`);return s=s?s.replace(/\sin.*/,""):!1,s})?`${s} in ${u(e)}`:!1}function K(e,r,n){const t=function(i,o){if(o==null)return i===o?!1:`Expected ${u(i)} to be ${o}`;const a=H(i,o);if(a!==null)return a;const f=W(i,o);if(f!==null)return f;if(Array.isArray(o))return G(i,o,n);if(o instanceof Function)return i instanceof o?!1:`Expected ${u(i,!0)} to be of Type ${_(o)}`;if(o===Object)return b(i,{});if(typeof o!="object")throw new Error(`Cannot handler pattern ${o}`);const g=b(i,o);return g||(n?S(i,o):!1)};let s;return Array.isArray(r)&&r.length>1?r.every(i=>t(e,i))&&(s=`Expected ${u(e)} to be a ${r.map(i=>_(i)).join(" or ")}`):s=t(e,r),s}function m(e,r,n){const t=K(e,r,n);if(t)throw new Error(`Match failed: ${t}`);return!1}var Q=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n(y,[n(A,[n(w,[n(F,{staticClass:"font-weight-bold"},[e._v(" Dark Mode ")])],1),n(T,[n(J,{model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1)],1),n(U),n(q,e._l(e.config.themes.value,function(t,s){return n(y,{key:s,staticClass:"my-2",attrs:{disabled:e.state.selected.value===t.name,hover:"",outlined:""},on:{click:function(c){return e.setTheme(t)}}},[n(A,[n(w,[n(F,{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.name)+" ")])],1),n(T,[e.state.selected.value===t.name?n(z,{attrs:{color:"success",size:"30"}},[n(X,[e._v("mdi-check")])],1):e._e()],1)],1),n(y,{staticClass:"my-1 ma-1 py-1 white"},e._l(Object.keys(t.dark),function(c,i){return n(E,{key:i,staticClass:"mx-1",attrs:{label:"",color:t.dark[c]}},[e._v(" "+e._s(c)+" ")])}),1),n(y,{staticClass:"my-1 ma-1 py-1 black"},e._l(Object.keys(t.light),function(c,i){return n(E,{key:i,staticClass:"mx-1",attrs:{label:"",color:t.light[c]}},[e._v(" "+e._s(c)+" ")])}),1)],1)}),1)],1)},Y=[];function Z(e,r,n,t,s,c,i,o){var a=typeof e=="function"?e.options:e;r&&(a.render=r,a.staticRenderFns=n,a._compiled=!0),t&&(a.functional=!0),c&&(a._scopeId="data-v-"+c);var f;if(i?(f=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(l=__VUE_SSR_CONTEXT__),s&&s.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(i)},a._ssrRegister=f):s&&(f=o?function(){s.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:s),f)if(a.functional){a._injectStyles=f;var g=a.render;a.render=function(M,C){return f.call(C),g(M,C)}}else{var $=a.beforeCreate;a.beforeCreate=$?[].concat($,f):[f]}return{exports:e,options:a}}const P={name:"ThemeChanger",setup(){const r=R("vcsApp").plugins.getByKey("@vcmap/theme-changer");function n(t){const{name:s,dark:c,light:i}=t;Object.keys(c).forEach(o=>{this.$vuetify.theme.themes.dark[o]=c[o]}),Object.keys(i).forEach(o=>{this.$vuetify.theme.themes.light[o]=i[o]}),r.state.selected.value=s}return{state:r.state,config:r.config,setTheme:n}}},V={};var ee=Z(P,Q,Y,!1,ne,null,null,null);function ne(e){for(let r in V)this[r]=V[r]}var re=function(){return ee.exports}();const te="@vcmap/theme-changer",oe="1.0.0",ie="~5.0.0",se={"@vcsuite/check":"^1.1.2"},ce={"@vcmap/ui":"5.0.0-rc.2","@vue/composition-api":"^1.4.5"};var h={name:te,version:oe,vcMapVersion:ie,dependencies:se,peerDependencies:ce};const ae="themeChanger",fe="plugins/@vcmap/theme-changer/index.js",ue=[{name:"Theme 1",dark:{primary:"#21CFF3",accent:"#FF4081",secondary:"#21dc79",success:"#86af3f",info:"#f34fc6",warning:"#FB8C00",error:"#FF5252"},light:{primary:"#22daff",accent:"#ff6b99",secondary:"#26ff8c",success:"#a5d64c",info:"#ff53d0",warning:"#ff8e00",error:"#ff5252"}},{name:"Theme 2",dark:{primary:"#E65100",accent:"#7CB342",secondary:"#689F38",success:"#4CAF50",info:"#6156d8",warning:"#1565C0",error:"#FF7043"},light:{primary:"#ffa450",accent:"#a1e754",secondary:"#92de4e",success:"#6dff74",info:"#7365ff",warning:"#2e8ac0",error:"#ff5e3c"}},{name:"Theme 3",dark:{primary:"#33691E",accent:"#FFCA28",secondary:"#607D8B",success:"#FFEB3B",info:"#2196F3",warning:"#9C27B0",error:"#B71C1C"},light:{primary:"#6ae240",accent:"#ffe063",secondary:"#7ea4b6",success:"#ffea70",info:"#229eff",warning:"#e239ff",error:"#e82424"}}];var le={name:ae,entry:fe,themes:ue};async function de(e){const r=j({name:"VCS Theme"},I.userPreset.theme.themes),n=e.themes||le.themes,t=[r,...n],s={themes:O([])},c={selected:O(r.name)};function i(o){m(o.name,String),m(o.light,Object),m(o.dark,Object),s.themes.value.push(o)}return t.forEach(o=>i(o)),{get name(){return h.name},get version(){return h.version},get vcMapVersion(){return h.vcMapVersion},config:s,state:c,addTheme:i,onVcsAppMounted(o){const{action:a,destroy:f}=D({name:"Theme Changer",icon:"mdi-palette"},{id:"theme-changer",component:re,position:{left:"60%",right:"0%",top:"5%",bottom:"50%"},state:{headerTitle:"Theme Changer",headerIcon:"mdi-palette"}},o.windowManager,h.name);o.navbarManager.add({id:"theme-changer",location:L.MENU,action:a},h.name),this._destroyAction=f},destroy(){this._destroyAction&&(this._destroyAction(),this._destroyAction=null)}}}export{de as default};
